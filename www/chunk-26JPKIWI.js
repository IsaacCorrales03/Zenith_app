import{g as n,h as i,ha as c}from"./chunk-W6P4ETXR.js";import{b as u}from"./chunk-VD3IFDEY.js";import{f as t}from"./chunk-RW4GY4BD.js";var s=u("Preferences",{web:()=>import("./chunk-CK64XPBI.js").then(o=>new o.PreferencesWeb)});var p=(()=>{let e=class e{constructor(r){this.router=r}setUserData(r){return t(this,null,function*(){try{let a=JSON.stringify(r);yield s.set({key:"user_data",value:a}),console.log("Datos del usuario guardados correctamente")}catch(a){console.error("Error guardando datos del usuario",a)}})}getUserData(){return t(this,null,function*(){try{let r=yield s.get({key:"user_data"});return r.value?JSON.parse(r.value):null}catch(r){return console.error("Error obteniendo datos del usuario",r),null}})}getUserId(){return t(this,null,function*(){let r=yield this.getUserData();return(r==null?void 0:r.User_ID)||null})}isLoggedIn(){return t(this,null,function*(){return!!(yield this.getUserData())})}logout(){return t(this,null,function*(){try{yield s.remove({key:"user_data"}),this.router.navigate(["/register"])}catch(r){console.error("Error cerrando sesi\xF3n",r)}})}};e.\u0275fac=function(a){return new(a||e)(i(c))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();export{p as a};
