import{a as W}from"./chunk-RBTULB3J.js";import{a as B}from"./chunk-JZDHSOL4.js";import{a as D}from"./chunk-EPYGSH4G.js";import{A as w,Ca as S,D as m,F as s,I as t,J as n,K as u,P as x,Q as f,Ua as I,Y as i,_ as h,aa as _,ab as L,ba as C,ca as M,eb as T,ja as v,jb as F,la as y,pb as j,sa as O,w as c,y as p,ya as k,za as E}from"./chunk-VB7IR2J7.js";import"./chunk-KI5M7U44.js";import"./chunk-VD3IFDEY.js";import"./chunk-F6FNI2JN.js";import"./chunk-NBIXKWD5.js";import"./chunk-6BU23L3N.js";import"./chunk-W2DKFL3W.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-JGTGHJ4P.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as P}from"./chunk-RW4GY4BD.js";function A(r,g){if(r&1&&(t(0,"ion-text",13),i(1),n()),r&2){let l=f();c(),h(" ",l.emailError," ")}}function R(r,g){if(r&1&&(t(0,"ion-text",13),i(1),n()),r&2){let l=f();c(),h(" ",l.passwordError," ")}}function N(r,g){if(r&1&&(t(0,"ion-text",13),i(1),n()),r&2){let l=f();c(),h(" ",l.loginError," ")}}var Y=(()=>{let g=class g{constructor(e,a,o){this.apiService=e,this.secureAuthService=a,this.router=o,this.email="",this.password="",this.emailError="",this.passwordError="",this.loginError=""}ngOnInit(){}goToRegister(){this.router.navigate(["register"])}forgotPassword(){this.router.navigate(["forgot-password"])}onLogin(){this.emailError="",this.passwordError="",this.loginError="",this.email?/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.email)||(this.emailError="El formato del email no es v\xE1lido"):this.emailError="Debes ingresar un email v\xE1lido",this.password||(this.passwordError="Debes ingresar una contrase\xF1a"),!(this.emailError||this.passwordError)&&this.apiService.login(this.email,this.password).subscribe({next:e=>P(this,null,function*(){yield this.secureAuthService.setUserData(e),console.log(yield this.secureAuthService.getUserData()),this.router.navigate([""])}),error:e=>{console.error("Error en inicio de sesi\xF3n",e);let a="Credenciales inv\xE1lidas. Por favor, verifica tu email y contrase\xF1a.";e.error&&typeof e.error=="string"?a=e.error:e.error&&e.error.error&&(a=e.error.error),this.loginError=a}})}};g.\u0275fac=function(a){return new(a||g)(p(W),p(D),p(O))},g.\u0275cmp=w({type:g,selectors:[["app-login"]],decls:29,vars:6,consts:[[3,"fullscreen"],[1,"form-container"],[1,"login-text"],["fill","clear",1,"login-button",3,"click"],[1,"form-labels"],["type","email","placeholder","ejemplo@correo.com",1,"form-inputs",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","password","placeholder","********",1,"form-inputs",3,"ngModelChange","ngModel"],["fill","clear",1,"password-button"],["expand","block","id","register-button",3,"click"],["id","connect-text",1,"ion-text-center"],["expand","block","id","google-button"],["id","google-icon","src","https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/google/google-original.svg",2,"width","20px","margin-right","8px"],[1,"error"]],template:function(a,o){a&1&&(u(0,"app-header"),t(1,"ion-content",0)(2,"div",1),u(3,"br"),t(4,"h1"),i(5,"Iniciar sesi\xF3n"),n(),t(6,"ion-text",2),i(7," \xBFEs tu primera vez? "),t(8,"ion-button",3),x("click",function(){return o.goToRegister()}),i(9," Reg\xEDstrate "),n()(),t(10,"ion-label",4),i(11,"Email"),n(),t(12,"ion-input",5),M("ngModelChange",function(d){return C(o.email,d)||(o.email=d),d}),n(),m(13,A,2,1,"ion-text",6),t(14,"ion-label",4),i(15,"Contrase\xF1a"),n(),t(16,"ion-input",7),M("ngModelChange",function(d){return C(o.password,d)||(o.password=d),d}),n(),m(17,R,2,1,"ion-text",6),t(18,"ion-text")(19,"ion-button",8),i(20," \xBFOlvidaste tu contrase\xF1a? "),n()(),m(21,N,2,1,"ion-text",6),t(22,"ion-button",9),x("click",function(){return o.onLogin()}),i(23," Iniciar sesi\xF3n "),n(),t(24,"ion-text",10),i(25,"O"),n(),t(26,"ion-button",11),u(27,"img",12),i(28," Continuar con Google "),n()()()),a&2&&(c(),s("fullscreen",!0),c(11),_("ngModel",o.email),c(),s("ngIf",o.emailError),c(3),_("ngModel",o.password),c(),s("ngIf",o.passwordError),c(4),s("ngIf",o.loginError))},dependencies:[B,F,T,L,y,v,S,k,E,j,I],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin:25% 5% 0%;border-radius:10px;padding-bottom:5%;box-shadow:0 4px 8px #0003;background-color:#f7f2fa}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#cb0fd9;text-align:center}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:5%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .ios[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:0}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .ios[_ngcontent-%COMP%]   .password-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:10%;margin-top:-10%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   .password-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--ripple-color: transparent;--box-shadow: none;--border-width: 0px;--border-style: none;--border-color: transparent;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:10%;margin-top:-10%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--ripple-color: transparent;--box-shadow: none;--border-width: 0px;--border-style: none;--border-color: transparent;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin:0}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-labels[_ngcontent-%COMP%]{margin-left:10%;color:#74d17b;font-weight:700}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-inputs[_ngcontent-%COMP%]{--background: #edc2f4;--border-radius: 10px;--padding-start:12px;color:#000;width:80%;margin-left:auto;margin-right:auto;margin-bottom:10%;height:auto}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:-5%;margin-bottom:5%;margin-left:10%;font-weight:700;display:none;text-align:left;padding-left:5px}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #register-button[_ngcontent-%COMP%]{--background: #C400DB;--margin-left: auto;--margin-right: auto;--border-radius: 0px;width:80%;margin-left:auto;margin-right:auto;display:block}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #connect-text[_ngcontent-%COMP%]{text-align:center;color:#2a59e5;display:flex;justify-content:center;margin-bottom:5%;margin-top:5%;font-weight:700}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #google-button[_ngcontent-%COMP%]{--background: white;--border-color:#dadce0;--border-width: 1px ;display:flex;align-items:center;justify-content:center;font-weight:500;color:#3c4043;box-shadow:0 1px 3px #00000014;width:80%;margin-left:auto;margin-right:auto;display:block}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #google-icon[_ngcontent-%COMP%]{margin-right:8px;width:18px;height:18px}']});let r=g;return r})();export{Y as LoginPage};
