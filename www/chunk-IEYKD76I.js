import{a as F}from"./chunk-3SVZTWEB.js";import{a as I}from"./chunk-RFZUWG4Y.js";import{a as E}from"./chunk-26JPKIWI.js";import{C as t,D as i,E as a,Ha as O,J as f,Pa as v,S as e,Ta as k,Xa as w,ba as y,cb as S,ha as M,pa as P,r as h,s as l,u as C,z as _}from"./chunk-W6P4ETXR.js";import"./chunk-KI5M7U44.js";import"./chunk-VD3IFDEY.js";import"./chunk-F6FNI2JN.js";import"./chunk-NBIXKWD5.js";import"./chunk-6BU23L3N.js";import"./chunk-W2DKFL3W.js";import"./chunk-GFAQE7C7.js";import"./chunk-4U6PRYVA.js";import"./chunk-JGTGHJ4P.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{f as x}from"./chunk-RW4GY4BD.js";var U=(()=>{let c=class c{constructor(d,r,n){this.apiService=d,this.secureAuthService=r,this.router=n,this.email="",this.password="",this.emailError="",this.passwordError="",this.loginError=""}ngOnInit(){}goToRegister(){this.router.navigate(["register"])}forgotPassword(){this.router.navigate(["forgot-password"])}onLogin(){console.log("a");let d=document.querySelector('ion-input[id="email"]'),r=document.querySelector('ion-input[id="password"]'),n=document.querySelector('ion-text[id="email-error"]'),g=document.querySelector('ion-text[id="password-error"]'),u=document.querySelector('ion-text[id="register-error"]');n.textContent="",g.textContent="",u.textContent="";let s=d.value,m=r.value;s?/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(s)||(n.textContent="El formato del email no es v\xE1lido",n.style.display="block"):(n.textContent="Debes ingresar un email v\xE1lido",n.style.display="block"),m||(g.textContent="Debes ingresar una contrase\xF1a",g.style.display="block"),!(!s||!m||!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(s))&&this.apiService.login(s,m).subscribe({next:o=>x(this,null,function*(){yield this.secureAuthService.setUserData(o),this.router.navigate([""])}),error:o=>{console.error("Error en inicio de sesi\xF3n",o);let b="Credenciales inv\xE1lidas. Por favor, verifica tu email y contrase\xF1a.";o.error&&typeof o.error=="string"?b=o.error:o.error&&o.error.error&&(b=o.error.error),u.textContent=b,u.style.display="block"}})}};c.\u0275fac=function(r){return new(r||c)(l(F),l(E),l(M))},c.\u0275cmp=C({type:c,selectors:[["app-login"]],decls:29,vars:1,consts:[[3,"fullscreen"],[1,"form-container"],[1,"login-text"],[1,"login-button",3,"click"],["id","email-label",1,"form-labels"],["type","email","id","email",1,"form-inputs"],["id","email-error",1,"error"],["id","password-label",1,"form-labels"],["type","password","id","password",1,"form-inputs"],["id","password-error",1,"error"],[1,"password-button"],["id","register-error",1,"error"],["id","register-button",3,"click"],["id","connect-text",1,"ion-text-center"],["id","google-button"],["id","google-icon","src","https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/google/google-original.svg"]],template:function(r,n){r&1&&(a(0,"app-header"),t(1,"ion-content",0)(2,"div",1),a(3,"br"),t(4,"h1"),e(5,"Iniciar sesi\xF3n"),i(),t(6,"ion-text",2),e(7,"\xBFEs tu primera vez? "),t(8,"ion-button",3),f("click",function(){return n.goToRegister()}),e(9,"Registrate"),i()(),t(10,"ion-label",4),e(11,"Email"),i(),a(12,"ion-input",5)(13,"ion-text",6),t(14,"ion-label",7),e(15,"Contrase\xF1a"),i(),a(16,"ion-input",8)(17,"ion-text",9),t(18,"ion-text")(19,"ion-button",10),e(20,"\xBFOlvidaste tu contrase\xF1a?"),i()(),a(21,"ion-text",11),t(22,"ion-button",12),f("click",function(){return n.onLogin()}),e(23,"Iniciar sesi\xF3n"),i(),t(24,"ion-text",13),e(25,"O"),i(),t(26,"ion-button",14),a(27,"img",15),e(28,"Continuar con google"),i()()()),r&2&&(h(),_("fullscreen",!0))},dependencies:[I,w,k,v,y,P,S,O],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{margin:25% 5% 0%;border-radius:10px;padding-bottom:5%;box-shadow:0 4px 8px #0003;background-color:#f7f2fa}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#cb0fd9;text-align:center}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:5%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .ios[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:0}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .ios[_ngcontent-%COMP%]   .password-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:10%;margin-top:-10%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   .password-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--ripple-color: transparent;--box-shadow: none;--border-width: 0px;--border-style: none;--border-color: transparent;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin-bottom:10%;margin-top:-10%}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #00000000;--background-activated: #00000000;--background-activated-opacity: #00000000;--background-focused: #00000000;--background-focused-opacity: #00000000;--background-hover: #00000000;--background-hover-opacity: #00000000;--color: #2a59e5;--ripple-color: transparent;--box-shadow: none;--border-width: 0px;--border-style: none;--border-color: transparent;--padding-bottom: 0px;--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;height:auto;font-weight:700;display:inline;margin:0}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-labels[_ngcontent-%COMP%]{margin-left:10%;color:#74d17b;font-weight:700}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-inputs[_ngcontent-%COMP%]{--background: #edc2f4;--border-radius: 10px;--padding-start:12px;color:#000;width:80%;margin-left:auto;margin-right:auto;margin-bottom:10%;height:auto}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;margin-top:-5%;margin-bottom:5%;margin-left:10%;font-weight:700;display:none;text-align:left;padding-left:5px}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #register-button[_ngcontent-%COMP%]{--background: #C400DB;--margin-left: auto;--margin-right: auto;--border-radius: 0px;width:80%;margin-left:auto;margin-right:auto;display:block}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #connect-text[_ngcontent-%COMP%]{text-align:center;color:#2a59e5;display:flex;justify-content:center;margin-bottom:5%;margin-top:5%;font-weight:700}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #google-button[_ngcontent-%COMP%]{--background: white;--border-color:#dadce0;--border-width: 1px ;display:flex;align-items:center;justify-content:center;font-weight:500;color:#3c4043;box-shadow:0 1px 3px #00000014;width:80%;margin-left:auto;margin-right:auto;display:block}ion-content[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   #google-icon[_ngcontent-%COMP%]{margin-right:8px;width:18px;height:18px}']});let p=c;return p})();export{U as LoginPage};
