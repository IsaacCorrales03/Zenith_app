import{h as D,i as A,sa as V}from"./chunk-VB7IR2J7.js";import{b as K}from"./chunk-VD3IFDEY.js";import{f as s}from"./chunk-RW4GY4BD.js";var h=K("Preferences",{web:()=>import("./chunk-CK64XPBI.js").then(i=>new i.PreferencesWeb)});var x=(()=>{let o=class o{constructor(a){this.router=a}setUserData(a){return s(this,null,function*(){try{let r=JSON.stringify(a);yield h.set({key:"user_data",value:r}),console.log("Datos del usuario guardados correctamente")}catch(r){console.error("Error guardando datos del usuario",r)}})}getLearningPercentages(){return s(this,null,function*(){var a,r,n,c,l,u,g,d,y,v,b,m,f,p,P;try{let t=yield this.getUserData();if(!t||!t.Learning_Percentages)return console.warn("No se encontraron datos de Learning_Percentages"),Array(15).fill(0);let e=t.Learning_Percentages;return[((a=e.Auditivo)==null?void 0:a.Debates)||0,((r=e.Auditivo)==null?void 0:r.Escuchar_clase)||0,((n=e.Auditivo)==null?void 0:n.Grabaciones)||0,((c=e.Auditivo)==null?void 0:c.Musica)||0,((l=e.Auditivo)==null?void 0:l.Podcast)||0,((u=e.Kinestesico)==null?void 0:u.Experimentos)||0,((g=e.Kinestesico)==null?void 0:g.Juegos)||0,((d=e.Kinestesico)==null?void 0:d.Practica)||0,((y=e.Kinestesico)==null?void 0:y.Proyectos)||0,((v=e.Kinestesico)==null?void 0:v.Simulaciones)||0,((b=e.Visual)==null?void 0:b.Diagramas)||0,((m=e.Visual)==null?void 0:m.Graficos)||0,((f=e.Visual)==null?void 0:f.Imagenes)||0,((p=e.Visual)==null?void 0:p.Lectura)||0,((P=e.Visual)==null?void 0:P.Video)||0]}catch(t){return console.error("Error obteniendo porcentajes de aprendizaje",t),Array(15).fill(0)}})}getLearningPercentagesWithLabels(){return s(this,null,function*(){var a,r,n,c,l,u,g,d,y,v,b,m,f,p,P;try{let t=yield this.getUserData();if(!t||!t.Learning_Percentages)return console.warn("No se encontraron datos de Learning_Percentages"),[];let e=t.Learning_Percentages;return[{label:"Debates",value:((a=e.Auditivo)==null?void 0:a.Debates)||0,category:"Auditivo"},{label:"Escuchar clase",value:((r=e.Auditivo)==null?void 0:r.Escuchar_clase)||0,category:"Auditivo"},{label:"Grabaciones",value:((n=e.Auditivo)==null?void 0:n.Grabaciones)||0,category:"Auditivo"},{label:"M\xFAsica",value:((c=e.Auditivo)==null?void 0:c.Musica)||0,category:"Auditivo"},{label:"Podcast",value:((l=e.Auditivo)==null?void 0:l.Podcast)||0,category:"Auditivo"},{label:"Experimentos",value:((u=e.Kinestesico)==null?void 0:u.Experimentos)||0,category:"Kinest\xE9sico"},{label:"Juegos",value:((g=e.Kinestesico)==null?void 0:g.Juegos)||0,category:"Kinest\xE9sico"},{label:"Pr\xE1ctica",value:((d=e.Kinestesico)==null?void 0:d.Practica)||0,category:"Kinest\xE9sico"},{label:"Proyectos",value:((y=e.Kinestesico)==null?void 0:y.Proyectos)||0,category:"Kinest\xE9sico"},{label:"Simulaciones",value:((v=e.Kinestesico)==null?void 0:v.Simulaciones)||0,category:"Kinest\xE9sico"},{label:"Diagramas",value:((b=e.Visual)==null?void 0:b.Diagramas)||0,category:"Visual"},{label:"Gr\xE1ficos",value:((m=e.Visual)==null?void 0:m.Graficos)||0,category:"Visual"},{label:"Im\xE1genes",value:((f=e.Visual)==null?void 0:f.Imagenes)||0,category:"Visual"},{label:"Lectura",value:((p=e.Visual)==null?void 0:p.Lectura)||0,category:"Visual"},{label:"Video",value:((P=e.Visual)==null?void 0:P.Video)||0,category:"Visual"}]}catch(t){return console.error("Error obteniendo porcentajes de aprendizaje con etiquetas",t),[]}})}getUserData(){return s(this,null,function*(){try{let a=yield h.get({key:"user_data"});return a.value?JSON.parse(a.value):null}catch(a){return console.error("Error obteniendo datos del usuario",a),null}})}getUserId(){return s(this,null,function*(){let a=yield this.getUserData();return(a==null?void 0:a.User_ID)||null})}isLoggedIn(){return s(this,null,function*(){return!!(yield this.getUserData())})}logout(){return s(this,null,function*(){try{yield h.remove({key:"user_data"}),this.router.navigate(["/register"])}catch(a){console.error("Error cerrando sesi\xF3n",a)}})}};o.\u0275fac=function(r){return new(r||o)(A(V))},o.\u0275prov=D({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();export{x as a};
